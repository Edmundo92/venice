import { Meta, Story, Description, Preview, Props } from '@storybook/addon-docs/blocks'
import { withKnobs } from '@storybook/addon-knobs'
import { withA11y } from '@storybook/addon-a11y'

import { knobInputLoading, knobInputSizes } from '@venice/core/storybook/knobs'
import Docs from '@venice/core/docs/Input.md'

import Hook from './Hook'
import Input from './Input'
import Button from '../Button/Button'

<Meta title="Components|Inputs" component={Input} />

<Description>{Docs}</Description>

## Variants

###  Base

<Preview>
  <Story name="Base" decorators={[withKnobs,withA11y]}>
    <Hook>
      {({formData, setFormData}) =>(
        <form>
          <div className="row-items" style={{display: 'flex'}}>
            <Input
              value={formData.teste}
              name="teste"
              label="label"
              style={{flex: '1'}}
              onChange={e => setFormData({
                ...formData,
                [e.target.name]: e.target.value
              })
              }
            />
            <Input
              name="teste2"
              label="label"
              placeholder="placeholder"
              style={{flex: '1'}}
              value={formData.teste2}
              onChange={v => setFormData({
                ...formData,
                [e.target.name]: e.target.value
                })}
            />
          </div>
        </form>)
      }
    </Hook>
  </Story>
</Preview>


###  Disabled

<Preview>
  <Story name="disabled" decorators={[withKnobs,withA11y]}>
    <div className="row-items" style={{display: 'flex'}}>
      <Input name="disabled" label="disabled" disabled style={{flex: '1'}}/>
      <Input name="disabled" label="disabled" placeholder="placeholder" disabled style={{flex: '1'}}/>
      <Input name="disabled" label="disabled" value="value" disabled style={{flex: '1'}}/>
    </div>
  </Story>
</Preview>


###  Validation

<Preview>
  <Story name="Validation" decorators={[withKnobs,withA11y]}>
    <Hook>
      {({formData, setFormData}) =>(
        <Input name="error" label="Error Sample" error="Errors will be displayed here"
        value={formData.error}
        onChange={e => setFormData({
          ...formData,
          [e.target.name]: e.target.value
        })
        }/>
      )}
    </Hook>
  </Story>
</Preview>

# Props

<Props of={Input} />
